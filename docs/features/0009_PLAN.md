# Feature 0009: Circular Service Rolling Animation

## Description
Implement a circular rolling animation system for the service section where services rotate in a circle when using the "Next Service" button. The animation should show the left service moving to center, center moving to right, and right moving back to the first position (left). Remove the "Focus Service" button and use only the existing "Next Service" button to trigger the rolling animation.

## Files to Modify

### 1. `components/services/services.tsx`
- **Current State**: Has both Focus Service and Next Service buttons with focus state management
- **Changes Needed**:
  - Remove the "Focus Service" button completely
  - Modify state management to handle circular rotation order
  - Implement rolling animation logic that moves services in circular pattern
  - Update the "Next Service" button to trigger rolling animation
  - Add animation delays for staggered movement effect

### 2. `components/services/service-card.tsx`
- **Current State**: Has focus states with scale and opacity changes
- **Changes Needed**:
  - Replace focus states with position-based styling (left, center, right)
  - Add rolling animation transforms for smooth position transitions
  - Implement enter/exit animations for seamless circular movement
  - Add position-aware styling (left card dimmed, center featured, right dimmed)
  - Remove click handlers since cards no longer need individual focus

### 3. `lib/theme.ts`
- **Current State**: Has service focus animation timing
- **Changes Needed**:
  - Add rolling animation timing and easing curves
  - Define stagger delays for sequential card movements
  - Add transform values for circular positioning

## Implementation Details

### Circular Rolling Logic
The service rotation follows this pattern:
- **Position 0 (Left)**: Support System → moves to center
- **Position 1 (Center)**: Financial Management → moves to right  
- **Position 2 (Right)**: Safety Compliance → moves to left

When "Next Service" is clicked:
1. Left service (index 0) slides to center position
2. Center service (index 1) slides to right position  
3. Right service (index 2) slides to left position
4. Update the services array order to reflect new positions

### Animation Specifications
1. **Rolling Animation**:
   - Duration: 600ms for complete rotation
   - Easing: cubic-bezier(0.4, 0, 0.2, 1) for smooth movement
   - Stagger delay: 100ms between each card movement
   - Transform: translateX and scale combinations for position changes

2. **Position Styling**:
   - **Left Position**: opacity-70, scale-95, translateX(-50px)
   - **Center Position**: opacity-100, scale-105, translateX(0)
   - **Right Position**: opacity-70, scale-95, translateX(50px)

3. **Card Transitions**:
   - Smooth transforms during position changes
   - Maintain card variant styling (featured for center)
   - Z-index management for proper layering during animation

### State Management Changes
- Replace `focusedServiceIndex` with `serviceOrder` array
- Track current positions: [leftIndex, centerIndex, rightIndex]
- Implement circular rotation logic that updates array order
- Manage animation states to prevent rapid clicking during transitions

### Animation Flow
1. User clicks "Next Service" button
2. Set animation state to prevent multiple clicks
3. Apply transform animations to all three cards simultaneously
4. After animation completes, update service order state
5. Reset animation state to allow next interaction

### Button Updates
- Remove "Focus Service" button and its container
- Keep "Next Service" button with existing styling
- Update button label to "Roll Services" for clarity
- Add disabled state during animations
- Position button below services grid as before

### Accessibility Considerations
- Announce service rotation to screen readers
- Maintain keyboard navigation for the Next Service button
- Respect motion-reduce preferences for transforms
- Ensure smooth focus management during rotations
- Provide clear labeling of current center service

### Responsive Behavior
- Maintain existing responsive grid layout
- Ensure rolling animations work on mobile devices
- Preserve touch interactions for the Next Service button
- Keep background decorative elements unchanged

## Testing Considerations
- Verify smooth circular rotation in both directions
- Test animation performance on different devices
- Confirm proper state management during rapid clicks
- Validate accessibility features during rotations
- Ensure no layout shifts or visual glitches
- Test motion-reduce preferences functionality

## Design Consistency
- Use existing gradient colors for button styling
- Maintain service card variant logic and styling
- Preserve container and spacing patterns
- Keep background decorative elements positioning
- Follow established animation timing from theme system
